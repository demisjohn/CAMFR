-import TkPlotCanvas
-add note in docs on polarisation convention
-quick test camfr_matlab (flipud?)
-backward mode


CAMFR 3D:

-clean up RefSectionMode::field (not used, but still)
-left/right PML not passed to stack correctly when using 2 expressions
-optimise ref section overlap
-experiment with ref index, eigenvalues_x
-Section1D: both TE and TM modes, normalise, fw_bw_at, compare to 2D, kz=0
-free slabmatrixcache?
-generalise cache to work with different M in each section.
-auto-partitioned section,
 nmax=neff_core?, eps_trace_coarse, precision, SectionFlux,
 complex modes, determinant faster than eigenvalues?
-dispersion relation of 2D slabs: try to eliminate need for O_II_I in 
 interface.cpp
-Remove kludge for normalising coodinates in field profiles
-PML in z direction (check field profiles, numeric overlap integral)
-Complex modes in presence of PML
-speed up nomalisation through cache?


MEDIUM TERM:

-speed up M - U1, where U1 is unit matrix
-short cut check_error in Bessel functions

-possibility to set PML layer by layer

-more general handling of decoupled waveguides

-eliminate warning for zero transmission through wall when calculating 
 fields in stack

-group identical sections in Geometry

-implementation of flipped stacks
-easier notation for InfStack: inf*(expression)

-prevent GC of temporary objects in expressions (walls, flipped, infstack)

-new function: stack::field(r0, r1, delta_r) to calc field on a grid,
 ability to cache field profiles and speed up
-stack field on layer discontinuity: speed up by not propagating
-cleverer inc/ext_field_expansion that does not calculate internal fields
 when not needed

-implement Bloch modes for MonoScatterers, InfStack for DiagScatters
-speed up Bloch for symmetric structures?

-investigate worse convergence for TM modes
-generalise: make lambda complex

-investigate throwing exceptions to Python

-tune new complex zero finder
-related: make definition of C_upperright uniform
-related: test it for leaky modes
-related: reenable complex modes in circ
-related: test sign of beta in backward modes in circ (using power flux)

-use asymptotic expansions for circular structures
-write a GUI for defining complicated structures
-add Python docbook comments

-making stripping of executable dependent on debug switches

-automatic setting of global.orthogonal
-explicitly return *all* modes found in Cavity::find_all_modes
-make 'precision' dynamic
-global numeric status register?

-cavity::calc_sigma: instead of using only the fw field, is it more robust
 to use fw_backward field to determine dominant mode?
-cavity: instead of using SVD, use eigenvalue decomposition or Arnoldi
-try out LAPACK 3.0 special svd routine (zgesdd)

-PC_wall: add waveguide interface if needed
-faster location of PC_wall eigenmodes
-convert slabwall PC to Material Stacks
-slabwall: cache get_R12 for startfield, get_error
-kill virtual functions in SlabWall (perhaps elsewhere too, get_kz()?)
-PC and TBC walls for Sections



SOURCE MAINTENANCE

-Section sorter to mode.h
-Numeric is imported automatically. Remove from docs and examples.
-move to uBLAS? (www.genesys-e.org/ublas)
-build: eliminate as many makefiles as possible
-remove set_precision_enhancement and friends
-get rid of S_T, T_T in field_calc
-make the C++ naming convention more uniform and in sync with Python names
 (e.g. circ_disp -> CircDisp, Material_length -> MaterialLength, ...)
-use BaseMaterial where appropriate
-completely redesign / rework Expression and its link to Stack
-make state of inc_field_bw consistent when calling set_interface_field



LOW PRIORITY

-is reciprocity exploitable?
-auto-partitioning of stacks in optimal diagonal substacks
-investigate Airy media
-test corner effects

-narrower minima in cavity::find_all_modes? (Peter)
-tilde in S_scheme: return more refs? (Peter)
-split scaling (Peter)
-scaling for complex modes, scaling when tracing (Peter)

-check sqrt(power) -> -1 norm (Peter)
-related: consolidate signedsqrt in material.h and circ.cpp (Peter)


THEORY:

-check formulas for power circ_1
-check sign_TM in slabdisp
-quadrant leaky modes (upperright neg imag?)
-loss in cladding (no PML): check quadrant
-analytic solution uniform TBC
-degeneracy for increasing PML in Slab AlOx(1) + AlGas(1) + AlOx(1)
-check Lahart P-parameter with EH/HE distinction
